<!DOCTYPE html> 
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Review Page</title>
    <link rel="stylesheet" href="../static/review_page.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <!-- Add Font Awesome link -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body>
    <div class="container">
        
        <div class="review-summary">
            리뷰 ({{ reviews|length }})
        </div>
        <hr class="divider">

        <div class="review-images">
            {% for review in reviews %}
                {% if review.image_url %}
                    <div class="review-image">
                        <img src="{{ review.image_url }}" alt="Review Image" class="review-thumbnail" width="100%" height="100%">
                    </div>
                {% endif %}
            {% endfor %}
        </div>

        <div class="review-options">
            <select>
                <option>옵션</option>
            </select>
            <div class="sort-buttons">
                <button class="active" onclick="sortBy('latest')">최신순</button>
                <button onclick="sortBy('best')">별점순</button>
            </div>
        </div>

        {% for review in reviews %}
        <div class="review-item">
            <div class="left">
                <div class="content">
                    <div class="username">{{ review.username }}
                        <span class="stars">
                            {% for i in range(review.star) %}
                            <img src="../static/images/greenclover.png" alt="greenclover" width="20" height="20">
                            {% endfor %}
                        </span>
                    </div>
                    <div>{{ review.info }}</div>
                </div>
            </div>
            <div class="right">
                <a href="{{ url_for('review_detail', review_id=review.name) }}">
                    <div class="avatar">
                        {% if review.image_url %}
                        <img src="{{ review.image_url }}" alt="Review Image" class="review-avatar-img" width="100%" height="100%">
                        {% endif %}
                    </div>
                </a>
                <div class="details">
                    <div class="date">{{ review.date }}</div>
                </div>
            </div>
        </div>
        {% endfor %}

        <div class="review-button-container">
            <button class="write-review">리뷰 작성하기</button>
        </div>

        <!-- Pagination Section -->
        <footer>
            <div class="pagination" style="justify-self: center;">
                {% if current_page > 1 %}
                <a href="{{ url_for('view_review_page', page=current_page - 1) }}" class="prev" style="color: gray;">← Previous</a>
                {% endif %}
                
                {% for i in range(1, total_pages + 1) %}
                <a href="{{ url_for('view_review_page', page=i) }}" class="page {% if current_page == i %}active{% endif %}">{{ i }}</a>
                {% endfor %}

                {% if current_page < total_pages %}
                <a href="{{ url_for('view_review_page', page=current_page + 1) }}" class="next" style="color: #006400;">Next →</a>
                {% endif %}
            </div>
        </footer>
    </div>

    <script src="../static/review_page.js"></script>

</body>
</html> 
